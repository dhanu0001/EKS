<html><head><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/components/image.min.css"></head><body><div class="container"><div class="row"><div class="col-md-10 col-md-offset-1 ui image"><p class="lead"><p>This is completely optional, but if you would like to try SQL injection on your own, you can install PostgreSQL and a database GUI using the below instructions:<br><br>To install PostgreSQL on your computer, follow the below steps:<br><br><br><br><strong>Mac:<br></strong>Follow my previous video for instructions. You will need <a href="https://brew.sh/" rel="noopener noreferrer" target="_blank">homebrew</a> for the easies way to set up. keep in mind you may have to run with the 'sudo' command.  <br></p><p><a href="http://www.psequel.com/" rel="noopener noreferrer" target="_blank">PSequel GUI</a><br><strong>Windows:<br></strong>Wolfgang, one of our fellow students ( and master of answering questions in this community) <strong>created a set of videos for Windows users</strong> that you can watch in order to make sure everything that I do on my Mac, also works on Windows. Scroll down to the very last section of the course titled: <strong>For Windows Users</strong>, and check out the <strong>Introduction</strong> video and the <strong>Installing PostgreSQL for Windows + Set up PostgresSQL for CMD, Using PgAdmin </strong>videos!<br></p><p><strong>Linux: Thanks to fellow student Dimitris for this great guide:</strong><br></p><p>For any of the Linux users following the course and interested in installing PostgreSQL along with a GUI (eg. pgAdmin), <a href="https://www.postgresql.org/download/" rel="noopener noreferrer" target="_blank">their website has wonderful instructions</a>, and so does their wiki (for example, <a href="https://wiki.postgresql.org/wiki/Apt" rel="noopener noreferrer" target="_blank">this link is for Debian and Ubuntu based distros</a>).  </p><p>Also, one way to issue the commands you typed in the video to start, stop, restart PostgreSQL in Linux is: </p><pre class="prettyprint linenums">sudo systemctl start postgresql     # starts the server<br>sudo systemctl stop postgresql      # stops it<br>sudo systemctl restart postgresql   # restart it<br>sudo systemctl status postgresql    # check the server's status<br></pre><p>The "<code>createdb test</code> " command and the "<code>psql 'test'</code> " command are the same (at least for Debian/Ubuntu systems) from what I saw. </p><p>When it's first installed, PostgreSQL just has the 'postgres' user, and the way to initially enter PostgreSQL is by typing  <code>sudo su - postgres</code> , and then <code>psql</code> .  After Andrei creates the 'test' database, we can create a user with the same name as our current logged in user, to be a database administrator. This way we can just type in <code>psql 'test'</code>  from the command line and enter the database without the need of logging in as the 'postgres' user, just like Andrei does in the lecture. This can be done with <code>CREATE USER your-user-name-here WITH SUPERUSER;</code> , and we can verify that he was created with <code>\du</code> . Now we can exit by typing <code>\q</code>  and then <code>exit</code> , and enter our database just like Andrei does, with <code>psql 'test'</code> . </p><p>Lastly, with pgAdmin4 we need to create a connection with the server the first time we use it, and this is done by right-clicking 'Servers' on the left pane, and choosing 'Create' &gt; 'Server'. We give our server a name, and in the 'Connection' tab we type in 'localhost' as the host, just like Andrei shows in the lecture, and press 'Save'. <br><br><br></p><p><strong>Troubleshooting: (Thank you to contribution from Samuel)<br></strong><br></p><p>Issue: Homebrew install of Postgresql will not execute successfully. <code>$ brew link postgresql</code>  results in failure due to directory not writable. New version of Homebrew will not allow sudo commands and System Integrity Protection prevents changing permissions. </p><p>Details: I tried to use homebrew to install postgres and kept running into issues with syslink. When I ran <code>$ brew link postgresql</code>  as homebrew suggested, I kept running into an error that it couldn't be completed because certain folders were not writable. I thought this would be easily remedied by running sudo but unfortunately the most current version of homebrew no longer allows the use of sudo commands due to security risks. My next thought was to my root user and use the macOS GUI interface to change the permissions on this folder because I am not sure how to do this on the terminal. Regardless of being logged in as 'root,' the OS would not let me change the permissions of the folder. I also attempted to use sudo and change the permissions in terminal and it did not work either. After several days of banging my head against the wall try all kinds of things  to find a solution, I discovered that since El Capitan, macOS introduced System Integrity Protection aka 'SIP' or 'rootless.' As it turned out, once I disabled SIP, logged back into 'root' and changed my regular accounts permissions to Read/Write on the problem directories, I was able to go back to my regular account and successfully execute <code>$ brew install postgresql</code> . Now it works and I'm so happy to be returning to my lessons!</p><p><em>Steps to Resolve: (WARNING! these steps require you to mess with very critical stuff on your computer. it is best to exercise EXTREME caution when performing this and to revert the system back to its secure state at the end)</em></p><p>Assuming you currently have postgresql installed through homebrew but unable to link due a scenario like the one mentioned above, here is what I suggest to resolve your issue...</p><p>1. Run <code>$ brew link postgresql</code>  <br><br>2. Write down the directory path that the error says it is not able to write to. (e.g. usr/local/share/man/man7) NOTE: you'll want to actually write this down on paper or take a picture of the screen on your phone because you will not be able to use copy and paste)<br><br>3. Enable your 'root' user account if you have not already done so. (https://support.apple.com/en-us/HT204012) NOTE: make sure to make a really good password for this account and write it down somewhere safe. This is a powerful account and there's no way to recover the password. <br><br>4. Disable System Integrity Protection. (https://www.igeeksblog.com/how-to-disable-system-integrity-protection-on-mac/) <br><br>5. Log into 'root' user account <br><br>6. In Finder menu bar select GO &gt; GO TO FOLDER... (CMND + SHFT + G) and type in the path from Step 2. <br><br>7. Right-Click/ Cntrl-Click the folder and select Get Info <br><br>8. Click the plus sign at the bottom of Sharing &amp; Permissions <br><br>9. Add your regular account to the list and change the permission to Read &amp; Write <br><br>10. Go back to your regular account, run <code>$ brew uninstall postgresql</code> , then <code>$ brew update</code>  and <code>$ brew doctor</code> . If those are all set run <code>$ brew install postgresql</code> . <br><br>11. You should be able to install without any problems now. However, if you run into a linking and permissions problem again, run $ brew link postgresql to figure out the problematic directory and repeat Steps 5 - 10 with whatever other directories are giving you trouble. <br><br>12. If everything is up and running properly. It is probably best to at least enable SIP again (instruction in the article linked in Step 4).</p><p>(To check that everything is working. I recommend running <code>$ brew services start postgresql</code>  then<code> $ createdb 'test'</code> . In my case, it was when I originally tried to run createdb and got "command not found" that I realized something was wrong.)</p></p></div></div></div></body></html>